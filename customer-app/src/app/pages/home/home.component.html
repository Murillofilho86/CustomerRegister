<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-11 col-md-11 col-lg-8 col-xl-6 card mt-3">
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-12 pt-3">
            <h3>Cadastro de clientes</h3>
          </div>
        </div>

        <form #customerForm="ngForm" (ngSubmit)="onSubmit()" id="customerForm">

          <div class="row">
            <div class="col-12">
              <label for="firstName" class="form-label">Primeiro Nome*:</label>
              <input id="firstName" name="firstName" type="text" 
              class="form-control ng-untouched ng-pristine ng-valid"
                [(ngModel)]="customer.firstName" 
                #firstName="ngModel" 
                 required maxlength="150" />
              <span [hidden]="firstName.valid && (firstName.dirty && firstName.touched) " class="alert alert-danger">
                Nome é obrigatório.
              </span>
            </div>

          </div>


          <div class="row">
            <div class="col-12">
              <label for="lastName" class="form-label">Sobrenome*:</label>
              <input type="text" class="form-control" name="lastName" [(ngModel)]="customer.lastName"
                formControlName="lastName" minlength="4" required maxlength="150" />

              <br />
            </div>
          </div>

          <div class="row">
            <div class="col-12">
              <label for="email" class="form-label">E-mail*:</label>
              <input type="text" class="form-control" name="email" name="email" [(ngModel)]="customer.email"
                formControlName="email" required email maxlength="150" />

            </div>
          </div>


          <div class="row">
            <div class="col-12">
              <label for="phone" class="form-label">Telefone*:</label>
              <input type="text" formControlName="phone" class="form-control" name="phone" name="phone"
                [(ngModel)]="customer.phone" required pattern="\(\d{2}\)\s\d{4,5}-\d{4}" />

            </div>
          </div>



          <div class="row">
            <div class="col-12">
              <label for="cpf" class="form-label">CPF*:</label>
              <input type="text" class="form-control" formControlName="cpf" name="cpf" [(ngModel)]="customer.cpf" cpf
                cpfAvailable required />
            </div>
          </div>


          <div formGroupName="address">
            <div class="row">
              <div class="col-12 mt-3 mb-2">
                <h5>Endereço:</h5>
              </div>
            </div>
            <div class="row">
              <div class="col-12 col-md-3">
                <label for="zipCode" class="form-label">CEP*:</label>
                <input type="text" class="form-control" formControlName="zipCode" name="zipCode" required
                  pattern="^[0-9]{5}-[0-9]{3}" #zipCode (blur)="searchAddress(zipCode.value)" />

              </div>

              <div class="col-12 col-md-7">
                <label for="street" class="form-label">Logradouro:</label>
                <input type="text" class="form-control ng-untouched ng-pristine ng-valid"
                  name="street"
                   (ngModel)]="customer.address.street.value" required readonly />
        
              </div>
              <div class="col-12 col-md-2">
                <label for="number" class="form-label">Número*:</label>
                <input type="text" class="form-control" formControlName="number" name="number" maxlength="10" />

              </div>
            </div>

            <div class="row">

              <div class="col-12 col-md-3">
                <label for="complement" class="form-label">Complemento:</label>
                <input type="text" class="form-control" formControlName="complement" name="complement" maxlength="10" />
              </div>

              <div class="col-12 col-md-3">
                <label for="neighborhood" class="form-label">Bairro:</label>
                <input type="text" formControlName="neighborhood" class="form-control" name="neighborhood" readonly
                  required />
              </div>

              <div class="col-12 col-md-3">
                <label for="city" class="form-label">Cidade:</label>
                <input type="text" class="form-control" formControlName="city" required name="city" />
              </div>

              <div class="col-12 col-md-3">
                <label for="state" class="form-label">Estado:</label>
                <input type="text" class="form-control" formControlName="state" name="state" />

              </div>
            </div>
            <div class="row">
              <div class="col-12 d-grid gap-2 mt-4 mb-2">
                <button class="btn btn-lg btn-primary" (click)="onSubmit()" type="submit">Cadastrar-se</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>